extern crate regex;
extern crate wana_kana;

use regex::Regex;
use std::io::prelude::*;
use wana_kana::to_romaji::*;

fn parse_line(s: &str) -> &str {
    let r = Regex::new(r"^([^ ]+) \[(.+)\] ").unwrap();
    let caps = r.captures(s);
    if caps.is_some() {
//        let caps = r.captures(s).unwrap();
      caps.unwrap().get(2).unwrap().as_str()
    } else {
        let r = Regex::new(r"^([^ ]+) /").unwrap();
	r.captures(s).unwrap().get(1).unwrap().as_str()
    }
//    let word = caps.get(1).unwrap().as_str();
//    Some((to_romaji(&word), to_romaji(&hiragana)))
}

fn main() {
    let stdin = std::io::stdin();
    let stdin = stdin.lock();
    for line in stdin.lines() {
        let line = line.unwrap();
        println!("{} [{}]", line, to_romaji(parse_line(&line)));
//	Some(roma1,roma2) = parse_line(&line);
//	println!("{}, [{} {}]", line, roma1, roma2);
    }
}
